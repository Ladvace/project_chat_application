{"version":3,"sources":["components/Messages/Message/Message.js","components/Messages/Messages.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/Chat/Chat.js","actions/login.js","components/Join/Join.js","actions/actionTypes.js","enhancers/monitorReducer.js","middleware/logger.js","reducers/login.js","reducers/index.js","configureStore.js","App.js","index.js","assets/smallLogo.png","assets/logo.png"],"names":["MessageContainer","styled","div","props","justify","MessageBox","bg","Image","img","color","Message","message","content","user","name","isSentByCurrentUser","console","log","trim","toLowerCase","type","className","ReactEmoji","emojify","src","Messages","messages","followButtonClassName","map","i","key","Container","LeftInnerContainer","CloseIcon","InfoBar","room","dispatch","useDispatch","icon","faCircle","logo","faTimes","onClick","push","UploadButton","Input","socket","setMessage","sendMessage","uploadImage","setImage","placeholder","value","onChange","target","onKeyPress","event","e","faImage","faCaretRight","size","Chat","useState","setName","setRoom","setUsers","setMessages","b64Image","setB64Image","data","FileReader","useSelector","state","login","ENDPOINT","useEffect","io","emit","error","alert","on","users","a","reader","file","files","onloadend","result","readAsDataURL","preventDefault","Error","Logo","InnerContainer","input","SignIn","enterValidData","seTenterValidData","setTimeout","monitorReducerEnhancer","createStore","reducer","initialState","enhancer","action","number","start","performance","now","newState","end","Math","round","logger","store","next","group","info","getState","groupEnd","history","combineReducers","router","connectRouter","createBrowserHistory","preloadedState","middlewares","routerMiddleware","loggerMiddleware","thunkMiddleware","enhancers","applyMiddleware","monitorReducersEnhancer","composedEnhancers","compose","rootReducer","configureStore","App","path","render","exact","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.55e4e2ff.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport \"./Message.css\";\r\n\r\nimport ReactEmoji from \"react-emoji\";\r\n\r\nconst MessageContainer = styled.div`\r\n  display: flex;\r\n  justify-content: ${(props) =>\r\n    props.justify === \"justifyEnd\" ? \"flex-end\" : \"flex-start\"};\r\n  padding: 0 5%;\r\n  margin-top: 3px;\r\n`;\r\n\r\nconst MessageBox = styled.div`\r\n  background: ${(props) => (props.bg === \"main\" ? \"#ff6700\" : \"#F3F3F3\")};\r\n  border-radius: 20px;\r\n  min-width: 80px;\r\n  padding: 10px;\r\n  color: white;\r\n  display: inline-block;\r\n  max-width: 80%;\r\n  p {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst Image = styled.img`\r\n  max-width: 400px;\r\n  max-height: 300px;\r\n  background: ${(props) => (props.color === \"dark\" ? \"#353535\" : \"white\")};\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Message = ({ message: { content, user }, name }) => {\r\n  let isSentByCurrentUser = false;\r\n\r\n  console.log(\"D\", content);\r\n\r\n  const trimmedName = name.trim().toLowerCase();\r\n\r\n  if (user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  return content.type === \"text\" ? (\r\n    isSentByCurrentUser ? (\r\n      <MessageContainer justify={\"justifyEnd\"}>\r\n        <p className=\"sentText pr-10\">you</p>\r\n        <MessageBox bg={\"main\"}>\r\n          <p className=\"messageText colorWhite\">\r\n            {ReactEmoji.emojify(content.content)}\r\n          </p>\r\n        </MessageBox>\r\n      </MessageContainer>\r\n    ) : (\r\n      <MessageContainer justify={\"justifyStart\"}>\r\n        <MessageBox bg={\"white\"}>\r\n          <p className=\"messageText colorDark\">\r\n            {ReactEmoji.emojify(content.content)}\r\n          </p>\r\n        </MessageBox>\r\n        <p className=\"sentText pl-10 \">{user}</p>\r\n      </MessageContainer>\r\n    )\r\n  ) : isSentByCurrentUser ? (\r\n    <MessageContainer justify={\"justifyEnd\"}>\r\n      <p className=\"sentText pr-10\">you</p>\r\n      <MessageBox bg={\"main\"}>\r\n        <Image\r\n          className=\"messageText colorWhite\"\r\n          color=\"white\"\r\n          src={content.content}\r\n          // img={content.content}\r\n        />\r\n      </MessageBox>\r\n    </MessageContainer>\r\n  ) : (\r\n    <MessageContainer justify={\"justifyStart\"}>\r\n      <MessageBox bg={\"white\"}>\r\n        <Image\r\n          className=\"messageText colorDark\"\r\n          color=\"dark\"\r\n          src={content.content}\r\n          // img={content.content}\r\n        />\r\n      </MessageBox>\r\n      <p className=\"sentText pl-10 \">{user}</p>\r\n    </MessageContainer>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\n\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nimport Message from \"./Message/Message\";\r\n\r\nimport \"./Messages.css\";\r\n\r\nconst Messages = ({ messages, name }) => {\r\n  return (\r\n    <ScrollToBottom followButtonClassName=\"scrollBotButton\" className=\"messages\">\r\n      {messages.map((message, i) => (\r\n        <div key={i}>\r\n          <Message message={message} name={name} />\r\n        </div>\r\n      ))}\r\n    </ScrollToBottom>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes, faCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport logo from \"../../assets/smallLogo.png\";\r\nimport \"./InfoBar.css\";\r\n\r\nimport { push } from \"connected-react-router\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 60px;\r\n  width: 100%;\r\n  padding: 0 5% 0 5%;\r\n`;\r\n\r\nconst LeftInnerContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  color: white;\r\n  svg {\r\n    color: #33e6ba;\r\n  }\r\n`;\r\n\r\nconst CloseIcon = styled.div`\r\n  svg {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst InfoBar = ({ room }) => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <Container>\r\n      <LeftInnerContainer>\r\n        <FontAwesomeIcon icon={faCircle} />\r\n        &nbsp;\r\n        <h3>room {room}</h3>\r\n      </LeftInnerContainer>\r\n      <img src={logo} />\r\n      <CloseIcon>\r\n        <FontAwesomeIcon icon={faTimes} onClick={() => dispatch(push(\"/\"))} />\r\n      </CloseIcon>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default InfoBar;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCaretRight, faImage } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"./Input.css\";\r\n\r\nconst UploadButton = styled.div`\r\n  color: #fff !important;\r\n  text-transform: uppercase;\r\n  text-decoration: none;\r\n  background: #ff6700;\r\n  display: inline-block;\r\n  border: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  margin-left: 20px;\r\n  position: relative;\r\n  input {\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    z-index: 2;\r\n  }\r\n  svg {\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nfunction Input({ setMessage, sendMessage, message, setImage, uploadImage }) {\r\n  // const Send = (msg) => {\r\n  //   sendMessage(msg);\r\n\r\n  //   // if (!image) {\r\n  //   // } else {\r\n  //   // }\r\n  // };\r\n\r\n  return (\r\n    <form className=\"form\">\r\n      <input\r\n        className=\"input\"\r\n        type=\"text\"\r\n        placeholder=\"Type a message...\"\r\n        value={message}\r\n        onChange={({ target: { value } }) => setMessage(value)}\r\n        onKeyPress={(event) =>\r\n          event.key === \"Enter\" ? sendMessage(event) : null\r\n        }\r\n      />\r\n      <UploadButton>\r\n        <input type=\"file\" onChange={(e) => uploadImage(e)} />\r\n        <FontAwesomeIcon icon={faImage} />\r\n      </UploadButton>\r\n      <button className=\"sendButton\" onClick={(e) => sendMessage(e)}>\r\n        <FontAwesomeIcon icon={faCaretRight} size=\"2x\" />\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\nimport Messages from \"../Messages/Messages\";\r\nimport InfoBar from \"../InfoBar/InfoBar\";\r\nimport Input from \"../Input/Input\";\r\n\r\nimport \"./Chat.css\";\r\n\r\nlet socket;\r\n\r\nconst Chat = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [users, setUsers] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [image, setImage] = useState(null);\r\n  const [b64Image, setB64Image] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let fileReader = new FileReader();\r\n  let slice;\r\n\r\n  const data = useSelector((state) => state.login);\r\n\r\n  const ENDPOINT = \"http://51.158.163.62:5000\";\r\n\r\n  useEffect(() => {\r\n    socket = io(ENDPOINT);\r\n    setRoom(data.room);\r\n    setName(data.name);\r\n    socket.emit(\"join\", { name: data.name, room: data.room }, (error) => {\r\n      if (error) {\r\n        alert(error);\r\n      }\r\n    });\r\n  }, [ENDPOINT]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"message\", (message) => {\r\n      console.log(\"messagemessage\", message);\r\n      setMessages((messages) => [...messages, message]);\r\n    });\r\n\r\n    socket.on(\"roomData\", ({ users }) => {\r\n      setUsers(users);\r\n    });\r\n\r\n    socket.on(\"disconnectChat\", () => {\r\n      dispatch(push(\"/\"));\r\n    });\r\n  }, []);\r\n\r\n  const uploadImage = async (e) => {\r\n    console.log(\"IMG\");\r\n    let reader = new FileReader();\r\n    let file = e.target.files[0];\r\n\r\n    reader.onloadend = () => {\r\n      setB64Image(reader.result);\r\n      // this.setState({\r\n      //   file: file,\r\n      //   imagePreviewUrl: reader.result,\r\n      // });\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n    console.log(\"PP\", messages, setB64Image);\r\n    if (b64Image) {\r\n      console.log(\"TES\", b64Image);\r\n      socket.emit(\"sendMessage\", { type: \"img\", content: b64Image }, () => {\r\n        setB64Image(null);\r\n        setMessage(\"\");\r\n      });\r\n      // slice = image.slice(0, 100000);\r\n      // fileReader.readAsArrayBuffer(slice);\r\n      // fileReader.onload = (evt) => {\r\n      //   let arrayBuffer = fileReader.result;\r\n      // };\r\n      // socket.emit(\"slice upload\", {\r\n      //   name: image.name,\r\n      //   type: image.type,\r\n      //   size: image.size,\r\n      //   data: arrayBuffer,\r\n      // });\r\n    } else if (message && !b64Image) {\r\n      console.log(\"M\", message);\r\n      socket.emit(\"sendMessage\", { type: \"text\", content: message }, () =>\r\n        setMessage(\"\")\r\n      );\r\n    } else return;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <InfoBar room={room} />\r\n        <Messages messages={messages} name={name} />\r\n        <Input\r\n          message={message}\r\n          setMessage={setMessage}\r\n          sendMessage={sendMessage}\r\n          setImage={setImage}\r\n          uploadImage={uploadImage}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import * as ActionTypes from \"./actionTypes\";\r\n\r\nexport function login(name, room) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: ActionTypes.LOGIN,\r\n      data: { name: name, room: room },\r\n    });\r\n  };\r\n}\r\n\r\nexport default login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { push } from \"connected-react-router\";\r\nimport io from \"socket.io-client\";\r\nimport login from \"../../actions/login\";\r\nimport logo from \"../../assets/logo.png\";\r\nimport \"./Join.css\";\r\n\r\nlet socket;\r\n\r\nconst Error = styled.div`\r\n  color: red;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  width: 300px;\r\n`;\r\n\r\nconst InnerContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border: 0;\r\n  margin-top: 20px;\r\n  border-radius: 5px;\r\n  padding: 15px 20px;\r\n  width: 100%;\r\n`;\r\n\r\nexport default function SignIn() {\r\n  const [name, setName] = useState(null);\r\n  const [room, setRoom] = useState(null);\r\n  const [enterValidData, seTenterValidData] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const ENDPOINT = \"http://51.158.163.62:5000\";\r\n\r\n  useEffect(() => {\r\n    socket = io(ENDPOINT);\r\n  }, [ENDPOINT]);\r\n\r\n  const joinRoom = () => {\r\n    if (!name && !room) {\r\n      seTenterValidData(true);\r\n      setTimeout(() => {\r\n        seTenterValidData(false);\r\n      }, 2000);\r\n    } else if (!name || !room) {\r\n      seTenterValidData(true);\r\n      setTimeout(() => {\r\n        seTenterValidData(false);\r\n      }, 2000);\r\n    } else {\r\n      socket.emit(\"checkUser\", { name: name, room: room }, (error) => {\r\n        if (error) {\r\n          console.log(\"err\");\r\n          alert(\"User Already Exist\");\r\n        } else {\r\n          dispatch(login(name, room));\r\n          dispatch(push(\"/chat\"));\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"joinOuterContainer\">\r\n      <InnerContainer>\r\n        <Logo src={logo} />\r\n        <div>\r\n          <Input\r\n            placeholder=\"Name\"\r\n            type=\"text\"\r\n            onChange={(event) => setName(event.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Input\r\n            placeholder=\"Room\"\r\n            type=\"text\"\r\n            onChange={(event) => setRoom(event.target.value)}\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={(e) => joinRoom(e)}\r\n          className={\"button mt-20\"}\r\n          type=\"submit\"\r\n        >\r\n          Sign In\r\n        </button>\r\n        <div>\r\n          {enterValidData && <Error>Enter all the required data</Error>}\r\n        </div>\r\n      </InnerContainer>\r\n    </div>\r\n  );\r\n}\r\n","export const LOGIN = \"LOGIN\";\r\n","const round = (number) => Math.round(number * 100) / 100;\r\n\r\nconst monitorReducerEnhancer = (createStore) => (\r\n  reducer,\r\n  initialState,\r\n  enhancer\r\n) => {\r\n  const monitoredReducer = (state, action) => {\r\n    const start = performance.now();\r\n    const newState = reducer(state, action);\r\n    const end = performance.now();\r\n    const diff = round(end - start);\r\n\r\n    return newState;\r\n  };\r\n\r\n  return createStore(monitoredReducer, initialState, enhancer);\r\n};\r\n\r\nexport default monitorReducerEnhancer;\r\n","const logger = (store) => (next) => (action) => {\r\n  console.group(action.type);\r\n  console.info(\"dispatching\", action);\r\n  let result = next(action);\r\n  console.log(\"next state\", store.getState());\r\n  console.groupEnd();\r\n  return result;\r\n};\r\n\r\nexport default logger;\r\n","import * as ActionTypes from \"../actions/actionTypes\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ActionTypes.LOGIN:\r\n      return {\r\n        name: action.data.name,\r\n        room: action.data.room,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport login from \"./login\";\r\nimport { connectRouter } from \"connected-react-router\";\r\n\r\nconst reducer = (history) =>\r\n  combineReducers({\r\n    router: connectRouter(history),\r\n    login,\r\n  });\r\n\r\nexport default reducer;\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { routerMiddleware } from \"connected-react-router\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport monitorReducersEnhancer from \"./enhancers/monitorReducer\";\r\nimport loggerMiddleware from \"./middleware/logger\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport default function configureStore(preloadedState) {\r\n  const middlewares = [\r\n    routerMiddleware(history),\r\n    loggerMiddleware,\r\n    thunkMiddleware,\r\n  ];\r\n\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const enhancers =\r\n    process.env.NODE_ENV === \"development\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? [\r\n          middlewareEnhancer,\r\n          monitorReducersEnhancer,\r\n          window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n        ]\r\n      : [middlewareEnhancer, monitorReducersEnhancer];\r\n  const composedEnhancers = compose(...enhancers);\r\n\r\n  const store = createStore(\r\n    rootReducer(history),\r\n    preloadedState,\r\n    composedEnhancers\r\n  );\r\n\r\n  //   const store = createStore(\r\n  //     rootReducer,\r\n  //     composeWithDevTools(\r\n  //       applyMiddleware(...middleware)\r\n  //       // other store enhancers if any\r\n  //     )\r\n  //   );\r\n\r\n  return store;\r\n}\r\n","import React from \"react\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { Provider } from \"react-redux\";\r\nimport Chat from \"./components/Chat/Chat\";\r\nimport Join from \"./components/Join/Join\";\r\nimport configureStore, { history } from \"./configureStore\";\r\n\r\n// import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nconst store = configureStore();\r\n\r\nconst App = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <Switch>\r\n          <Route path=\"/\" render={() => <Join />} />\r\n          <Route exact path=\"/chat\" render={() => <Chat />} />\r\n          <Route render={() => <div>Miss</div>} />\r\n          {/* <Route render={() => <Join />} /> */}\r\n        </Switch>\r\n      </ConnectedRouter>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAAAnCAYAAABKZsWMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALlSURBVHgB7Zq/b9NAFMe/ZxgIC0EwFildujbdYCJhrkRZGJtmgGaj4R9oM7DSbFAY0qywBImZhqkj7gpDLYUVKQwUWDDv+eqS0Nj30kaqf9xHclw3l9j+5N3deycrTMDfQBE/UIODCh2WaSshD/gYQqFP+556hW5UM3Xqc4+xQrsOvVNEvvFI3tYkeWPS/HVs024Dln/4aJO45ui/TqT5DWyyWVgmsat2UA8PAmn+I6zR+NWBJRofTYq4Nv+ppa3jEHkZ7M/OEAXMqzaGThBlVpiEIo4CV9QpHdyHRYbSrhzYKJsGzlmhaDzzYZFTwPXLmJY5kn2V8t5vnt7SyI0SsFDR1//VBY6G8s/+QlEurUyFwmpHCwtxe8DbZnrksaxaRwsL4Wvf3wXetyBF1j3vrOmTTYJP+mxpul/rImBhT/f0fhJv6Mf/0IYRhXnH2KhAkbW8idiLWd5C4uFrjBLGPNwe70UxmLsnh3LcyZjbNWDgItEs3DW3WVzRXdWAWZrEPrepZaAKMwXHMebumdYZ8iwMPomamaUN3OQP8rOAg+PLR1FTs7SfJKxbR+bh1EkYHGZpzEFPb1mFE9zPfXFzmTROOXhmySpc5azKJzKztLTkYeeFK57RSiEGs7S5MnKD8F7N0oRZciaYWUUgydM4LeH6M8lw3WnqfsLJwBxp/EWmL5MUuheNaRWDg2Nm0hjO06Iibr+rt6TDQqLE8b09r0KKfOU2nEVvLeqVj3AdKg3CRuEueu8JcLOkj913uqdIqx5aGrLL3dMSrKfxQx8WMeolPIfMebBI8fiFJwJZaW9h+vzCkZbhSnzGKP3YlX6Wo4E9GtsqsMThqh0EGXyYp9XthBCDfkLyQXgYSOMZgd6oWnERXEI9cHTMSUWgXsOlIw4/D5YQjyKsql6Mj/tjZVRg8zeJU2ghz/J0d2yhgCVy0v//bRX72QZNDn9o44eWFa4hy/j4Tq+HdJ8HuEKDfjt6qPoL3+HOrHTQ2c8AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/logo.6ede4f9d.png\";"],"sourceRoot":""}